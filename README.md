# Example of a block root with a Verkle state root

## Block content

This is a standard RLP block containing 3 transactions, and an added `VerkleProof` field at the end of the block header.

```
> rlpdump block1.rlp
[
  # Header
  [
    dabfc5af57abba4a2c6df119b101a177eebb7c02676ea731e6223776b5b96926,
    1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347,
    0000000000000000000000000000000000000000,
    031d463af29d9b7157dff3ee5104804ca4080b35dd5af85f63d6bfd72fb7694a,
    3080e1b02011b3daac36a0ad2cc67d0adc710cf00f93c2abd0a04d020d413fed,
    251f2cb798e965c5d9b11c882f37c69fd2c42b314fabe64d2b4998c76eb93ae8,
    00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000,
    020000,
    01,
    47e7c4,
    f618,
    0a,
    "",
    0000000000000000000000000000000000000000000000000000000000000000,
    0000000000000000,
    342770c0,

    # The new VerkleProof field
    000000000300000002020212000000cdfd2b0c7b7136afb1852dfc61dfba53a0f4bc390a0a177996c1eecb4af7c0712c7a691410fe8dc8011c7d33801ea256c51433e1bd61fa3c00fb9473b93456572c7a691410fe8dc8011c7d33801ea256c51433e1bd61fa3c00fb9473b93456572c7a691410fe8dc8011c7d33801ea256c51433e1bd61fa3c00fb9473b93456578cac968a98ab6c50379fc8b039abc8fd9aca259f4746a05bfbdf12c86463c2088cac968a98ab6c50379fc8b039abc8fd9aca259f4746a05bfbdf12c86463c208cdfd2b0c7b7136afb1852dfc61dfba53a0f4bc390a0a177996c1eecb4af7c07114869e3e2ca95d4d2aaafed60c1294000e87be846cdb22f8179a7fa9ee8042e214869e3e2ca95d4d2aaafed60c1294000e87be846cdb22f8179a7fa9ee8042e214869e3e2ca95d4d2aaafed60c1294000e87be846cdb22f8179a7fa9ee8042e25eb3968a98ab6c50379fc8b039abc8fd9aca259f4746a05bfbdf12c86463c2085eb3968a98ab6c50379fc8b039abc8fd9aca259f4746a05bfbdf12c86463c208cdfd2b0c7b7136afb1852dfc61dfba53a0f4bc390a0a177996c1eecb4af7c071f444d685bcc5c81ee4581b5e59f7764bbe373f29fe829675ed465121af8a3690f444d685bcc5c81ee4581b5e59f7764bbe373f29fe829675ed465121af8a3690f444d685bcc5c81ee4581b5e59f7764bbe373f29fe829675ed465121af8a369069b0968a98ab6c50379fc8b039abc8fd9aca259f4746a05bfbdf12c86463c20869b0968a98ab6c50379fc8b039abc8fd9aca259f4746a05bfbdf12c86463c2085b5f213284792a2aff030c9221bb2c6e7e65f967cb2ac8d0918a8fbb9b63a652dce3b2ee33b8b2fbae405a9738c641d64ed433756898d7b7683ccc4b9116d570d293c300b594fe3c17d0a468e2cec1b24f82d999c2408e8fd211fbe7079751d4f282dcbf00060a802c16889d5664b0000ec0f734b2780737b70d8f11343558d70f26a92edb9936d252e80bf5a846a07944c2610b1e23e24f3bc123b9684b7be474222ec516d51946333c6d765fecdd371f28035c42b1e1320ca59e7e74990d04d2329b3a14163a1d6cc36690cdc84d8cab56447ea1e121abbaf9ee2e1558d1336ca7e2722838a95afcd6e578bc25ba855ac2585cd36834df5383db5b718c78d2c65de9c2be8aaca838b11d5604b844cc1e46d86525c86afa3e6372197dd3b790005974d2499a01f9a7c7299701d62bb8a23de7ad4d00633353cb2106096e8b125ab1092d8ae228df3efa737ee09a1b6aa26206b45cea325619d433c83844279e4dee6973b76ecf8cf313b22accd7f9b4f44b74f2799368de61bf49e13517c140f2be5403a8ab178179f26d1dd573ad7b7d4b1622ede322858f4e8e51514dbc8ed9af4d662ac53bb829e2bcd8df2caa7ec9fbd084e0f4fcaaa4ec3e4e8b83a2e82f9e0ead956e1a27feeec087261dceb531ef2bce4d109675bb529503734b641865d14dc3c5eb97044c2fe372e5d42ced32c4ca8e8c1cf42fcebfea78cc2954151f6b9eb05ad814ad67c36483517d532bded70b76e8c784dbaa160c702bb04957362a3fcb4041dc02078c947afb1a604ee4f778c8937dbdbe0cfce3163ca74c1b03000000318dea512b6f3237a2d4763cf49bf26de3b617fb0cabe38a97807a5549df4d8701000000000000000000000000000000000000000000000000000000000000000018fb432d3b859ec3a1803854e8cceea75d092e52d0d4a4398d13022496745ae9010000000000000000000000000000000000000000000000000000000000000000e6ed6c222e3985050b4fc574b136b0a42c63538e9ab970995cd418ba8e5264bb010000000000000000000000000000000000000000000000000000000000000000,
  ],

  # The block body, with 3 txs
  [
    [
      "",
      342770c0,
      5208,
      0102030000000000000000000000000000000000,
      03e7,
      "",
      "&",
      b3a89207cfb887e6d2098ee9cdf3fa753399c3c5eb1ae020f51d1f05c8a5644c,
      31a5a634d709d8c489e5d6b825cad082fbbbaece937c01360838b27f8442404b,
    ],
    [
      01,
      342770c0,
      5208,
      0000000000000000000000000000000000000000,
      03e7,
      "",
      "%",
      35084f770e2443be85a5c774532dbacda1f5d0161876cec312e08008833f0a52,
      28c346755226a6f34f8c83dd9634ce232f71930ed3d56beb660877ee1400244b,
    ],
    [
      02,
      342770c0,
      5208,
      0000000000000000000000000000000000000000,
      "",
      "",
      "&",
      eb6949fa8562003ad7492e200b7b73a0c68de8c84998683863c87335d7f7ad28,
      54f2f110f801036824d6952471d3e3959dd58e639d9169b26632ea1bb814cfec,
    ],
  ],
  [],
]
```

## Verkle proof format

This describes the format used for this block, it is subject to change so make sure that you watch this description as it will be udpated.

| Field | Description | Format |
| ----- | ----------- | ------ |
| Proof | Binary payload to pass to `rust-verkle` directly:<br /> * len(Proof of absence stem) ++ Proof of absence stems <br /> * len(depths) ++ serialize(depthi ++ ext statusi) <br /> * len(commitments) ++ serialize(commitment)<br /> * Multipoint proof | Flat binary
| Key, values | For each (key, value) par: <br /> * 32-byte key<br /> * marker byte: if `0` then value is not present, if `1` then value is present <br /> * 32-byte value, if present | Flat binary |

The fields of the structure are serialized using binary concatenation. No RLP at the moment.

## Changelog

 * 22.01.22 - Initial version

## TODO

 * [ ] RLP encoding of the structure encapsulating the proof and the (key, values) tuples
 * [ ] SSZ encoding of that same structure when the final format has been defined
